# âš¡ STEPAN VPN - ÐŸÑ€ÐµÐ¼Ð¸ÑƒÐ¼ VPN Ð¿Ð°Ð½ÐµÐ»ÑŒ

ÐœÐµÐ³Ð°ÐºÑ€Ð°ÑÐ¸Ð²Ð°Ñ Ð²ÐµÐ±-Ð¿Ð°Ð½ÐµÐ»ÑŒ Ð´Ð»Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Xray ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼ Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹ Reality Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ð° Ð¸ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸ÐµÐ¹ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐ¾Ðº Ð´Ð»Ñ HAPP.

## âœ¨ Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸

- ðŸŽ¨ Ð¡Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¹ Ð³Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ð½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ
- ðŸ‘¥ Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°Ð¼Ð¸ (Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ, ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ, Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ/Ð²Ñ‹ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ)
- ðŸ“± Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐ¾Ðº Ð´Ð»Ñ HAPP
- ðŸ“· QR ÐºÐ¾Ð´Ñ‹ Ð´Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð³Ð¾ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ
- ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ
- ðŸ”’ Reality Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» Ð´Ð»Ñ Ð¾Ð±Ñ…Ð¾Ð´Ð° Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð¾Ðº

## ðŸ› ï¸ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€

### 1. ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° VPS

ÐÑƒÐ¶ÐµÐ½ VPS Ñ Ubuntu/Debian Ð·Ð° Ð³Ñ€Ð°Ð½Ð¸Ñ†ÐµÐ¹ (Hetzner, DigitalOcean, Vultr Ð¸ Ñ‚.Ð´.)

### 2. ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ

```bash
ssh root@YOUR_SERVER_IP
```

### 3. Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ñ„Ð°Ð¹Ð»Ð¾Ð²

Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð²ÑÐµ Ñ„Ð°Ð¹Ð»Ñ‹ Ð¸Ð· Ð¿Ð°Ð¿ÐºÐ¸ `xray-panel` Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€:

```bash
# ÐÐ° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¼Ð°ÑˆÐ¸Ð½Ðµ
scp -r xray-panel root@YOUR_SERVER_IP:/root/
```

### 4. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

```bash
cd /root/xray-panel
chmod +x install.sh
./install.sh
```

Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚:
- Xray ÑÐµÑ€Ð²ÐµÑ€
- Python Ð¸ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
- Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ ÐºÐ»ÑŽÑ‡Ð¸ Reality

### 5. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°

ÐŸÐ¾ÑÐ»Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð²Ñ‹Ð²ÐµÐ´ÐµÑ‚:
- ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ (Public Key)
- Short ID

ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ `app.py` Ð¸ Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð² Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÑ… `get_subscription` Ð¸ `get_qrcode`:

```python
server_config = {
    'address': 'YOUR_SERVER_IP',  # IP Ð²Ð°ÑˆÐµÐ³Ð¾ ÑÐµÑ€Ð²ÐµÑ€Ð°
    'port': 443,
    'serverName': 'io.ozone.ru',
    'publicKey': 'YOUR_PUBLIC_KEY',  # Ð˜Ð· Ð²Ñ‹Ð²Ð¾Ð´Ð° install.sh
    'shortId': 'YOUR_SHORT_ID'  # Ð˜Ð· Ð²Ñ‹Ð²Ð¾Ð´Ð° install.sh
}
```

### 6. Ð—Ð°Ð¿ÑƒÑÐº Ð¿Ð°Ð½ÐµÐ»Ð¸

```bash
source venv/bin/activate
python3 app.py
```

ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ð½Ð° `http://YOUR_SERVER_IP:5000`

### 7. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð°Ð²Ñ‚Ð¾Ð·Ð°Ð¿ÑƒÑÐºÐ° (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)

Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ systemd ÑÐµÑ€Ð²Ð¸Ñ:

```bash
cat > /etc/systemd/system/xray-panel.service << EOF
[Unit]
Description=Xray Panel
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/root/xray-panel
ExecStart=/root/xray-panel/venv/bin/python3 /root/xray-panel/app.py
Restart=always

[Install]
WantedBy=multi-user.target
EOF

systemctl enable xray-panel
systemctl start xray-panel
```

## ðŸ“± Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ

### Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð¿Ð°Ð½ÐµÐ»ÑŒ Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ
2. Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ñ„Ð¾Ñ€Ð¼Ñƒ "Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ð¾Ð³Ð¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°"
3. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°"

### ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÐ¸ Ð´Ð»Ñ HAPP

1. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÑƒ "ðŸ“± ÐŸÐ¾Ð´Ð¿Ð¸ÑÐºÐ°" Ñƒ Ð½ÑƒÐ¶Ð½Ð¾Ð³Ð¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°
2. Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÑÑÑ‹Ð»ÐºÑƒ
3. Ð’ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸ HAPP:
   - ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
   - Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÑƒ
   - Ð’ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ ÑÑÑ‹Ð»ÐºÑƒ
   - ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÑƒ

### QR ÐºÐ¾Ð´ Ð´Ð»Ñ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ

1. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÑƒ "ðŸ“· QR" Ñƒ Ð½ÑƒÐ¶Ð½Ð¾Ð³Ð¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°
2. ÐžÑ‚ÑÐºÐ°Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ QR ÐºÐ¾Ð´ Ð² HAPP

## ðŸ”§ Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ

- **â–¶ï¸/â¸ï¸** - Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ/Ð²Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°
- **ðŸ—‘ï¸** - Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°
- **ðŸ“±** - ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÐ¸
- **ðŸ“·** - ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ QR ÐºÐ¾Ð´

## ðŸ”’ Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ

- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ñ„Ð°Ð¹Ñ€Ð²Ð¾Ð» (ufw)
- ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ HTTPS (nginx + certbot)
- ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÑŒÑ‚Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð¿Ð°Ð½ÐµÐ»Ð¸ Ð¿Ð¾ IP

```bash
# ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ufw
ufw allow 22/tcp
ufw allow 443/tcp
ufw allow 5000/tcp
ufw enable
```

## ðŸ“ ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ñ

- Reality Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» Ð¼Ð°ÑÐºÐ¸Ñ€ÑƒÐµÑ‚ Ñ‚Ñ€Ð°Ñ„Ð¸Ðº Ð¿Ð¾Ð´ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ðµ HTTPS Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ðº io.ozone.ru
- ÐÐµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð´Ð¾Ð¼ÐµÐ½ Ð¸ SSL ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹
- Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð´Ð°Ð¶Ðµ Ð¿Ñ€Ð¸ Ð³Ð»ÑƒÐ±Ð¾ÐºÐ¾Ð¹ Ð¸Ð½ÑÐ¿ÐµÐºÑ†Ð¸Ð¸ Ð¿Ð°ÐºÐµÑ‚Ð¾Ð² (DPI)

## ðŸ†˜ ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹?

### Xray Ð½Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ

```bash
systemctl status xray
journalctl -u xray -f
```

### ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð½Ðµ Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ÑÑ

ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ñ€Ñ‚ 5000 Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚:
```bash
netstat -tulpn | grep 5000
```

### ÐšÐ»Ð¸ÐµÐ½Ñ‚ Ð½Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ÑÑ

1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ñ€Ñ‚ 443 Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚
2. Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ publicKey Ð¸ shortId Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ðµ
3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ IP Ð°Ð´Ñ€ÐµÑ ÑÐµÑ€Ð²ÐµÑ€Ð°

## ðŸ“„ Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ

MIT
